<!--
    Copyright (C) 2015 - present Juergen Zimmermann, Hochschule Karlsruhe

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!-- Inline form https://v5.getbootstrap.com/docs/5.0/forms/layout/#inline-forms -->
<!-- prettier-ignore -->
<form
  (submit)="onLogin()"
  class="row row-cols-md-auto g-3 align-items-center"
  autocomplete="off"
  role="form"
  *ngIf="! initialLoggedIn || (notLoggedIn$ | async); else loggedIn"
>
  <mat-form-field class="col-12">
    <mat-label for="usernameInput" class="col-form-label">
      <small>Benutzername</small>
    </mat-label>
    <input matInput
      id="usernameInput"
      type="search"
      class="form-control form-control-sm"
      tabindex="1"
      autocomplete="off"
      required
      [(ngModel)]="username"
      name="username"
    />
  </mat-form-field>

  <mat-form-field class="col-12">
    <mat-label for="passwordInput" class="col-form-label">
      <small>Passwort</small>
    </mat-label>
    <input matInput
      id="passwordInput"
      type="password"
      class="form-control form-control-sm"
      tabindex="2"
      autocomplete="off"
      required
      [(ngModel)]="password"
      name="password"
    />
  </mat-form-field>
  <div class="col-12">
    <button mat-raised-button color="primary" type="submit" class="btn btn-primary">
      Login
    </button>
  </div>
</form>

<ng-template #loggedIn>
  <button mat-stroked-button type="submit" color="primary" (click)="onLogout()">
    <span class="mr-1">Logout</span>
    <i class="material-icons md-48">chevron_right</i>
  </button>
</ng-template>
